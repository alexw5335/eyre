namespace main


typedef i8 = byte
typedef i16 = word
typedef i32 = dword
typedef i64 = qword



// rcx: data
// rdx: length
proc print {
	sub rsp, 56
	mov r8, rdx
	mov rdx, rcx
	mov ecx, -11
	lea r9, [rsp + 40]
	mov qword [rsp + 32], 0
	dllcall WriteFile
	add rsp, 56
	ret
}


// ResNode, DefNode, VarNode
// var testing res MyStruct
// var testing db MyStruct { scope = 1 }
// var testing = MyStruct(rcx + rdx)


var msg db "Message"



proc main {
	sub rsp, 40
	lea rcx, [msg]
	mov byte [msg], MyStruct::size + '0'
	mov edx, msg::size
	call print
	dllcall ExitProcess
}



enum MyEnum {
	A
	B
	C
}



struct MyStruct {
    i32 a
    i32 b
}